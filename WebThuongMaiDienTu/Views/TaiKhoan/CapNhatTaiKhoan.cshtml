@model WebThuongMaiDienTu.Models.CapNhatTaiKhoanViewModel

@{
    ViewBag.Title = "CapNhatTaiKhoan";
    Layout = "~/Views/Shared/_LayoutDetails.cshtml";
    string y = "@cc$!%*?&";
}


@using System.Configuration;
@{
    ViewBag.Title = "Cập Nhật Thông Tin Tài Khoản";
    string _googlesitekey = ConfigurationManager.AppSettings["GoogleSitekey"];
}

<!DOCTYPE html>

<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cập Nhật Thông Tin</title>
    <!-- Bootstrap CSS -->
 
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                @if (ViewBag.ThongBao != null)
                {
                    <div class="alert alert-success" role="alert">
                        @ViewBag.ThongBao
                    </div>
                }
                @using (Html.BeginForm("CapNhatTaiKhoan", "TaiKhoan", FormMethod.Post, new { id = "updateForm" }))
                {
                    @Html.AntiForgeryToken() <!-- Thêm dòng này để tạo token anti-forgery -->

                    <h2 class="text-center">Cập Nhật Thông Tin Tài Khoản</h2>

                    <!-- Tên tài khoản -->
                    <div class="mb-3">
                        <label for="tenTaiKhoan" class="form-label">Tên tài khoản</label>
                        @Html.TextBoxFor(m => m.TenTaiKhoan, new { @class = "form-control", required = "required" })
                        
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        @Html.TextBoxFor(m => m.Email, new { @class = "form-control", required = "required", type = "email" })
                    </div>

                    <!-- Địa chỉ giao hàng -->
                    <div class="mb-3">
                        <label for="diaChiGiaoHang" class="form-label">Địa chỉ giao hàng</label>
                        @Html.TextBoxFor(m => m.DiaChiGiaoHang, new { @class = "form-control", required = "required" })
                        
                    </div>

                    <!-- Số điện thoại -->
                    <div class="mb-3">
                        <label for="soDienThoai" class="form-label">Số điện thoại</label>
                        @Html.TextBoxFor(m => m.SoDienThoai, new { @class = "form-control", required = "required", type = "tel" })
                        
                    </div>

                    <!-- Mật khẩu cũ -->
                    <div class="mb-3">
                        <label for="matKhauCu" class="form-label">Mật khẩu cũ</label>
                        <input type="password" class="form-control" id="matKhauCu" name="matKhauCu" required>

                    </div>

                    <!-- Mật khẩu mới -->
                    <div class="mb-3">
                        <label for="matKhauMoi" class="form-label">Mật khẩu mới</label>
                        <input type="password" class="form-control" id="matKhauMoi" name="matKhauMoi"
                               pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@y])[A-Za-z\d@cc$!%*?&]{8,}$"
                               title="Mật khẩu phải có ít nhất 8 ký tự, chứa ít nhất 1 chữ hoa, 1 chữ thường, 1 số và 1 ký tự đặc biệt." />

                    </div>

                    <!-- Xác nhận mật khẩu mới -->
                    <div class="mb-3">
                        <label for="xacNhanMatKhau" class="form-label">Xác nhận mật khẩu mới</label>
                        <input type="password" class="form-control" id="xacNhanMatKhau" name="xacNhanMatKhau" required>

                    </div>

                    <button type="submit" class="btn btn-primary w-100">Cập nhật thông tin</button>
                }
            </div>
        </div>
    </div>

    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>

